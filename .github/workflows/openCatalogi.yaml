name: My Open Catalogi Workflow

on:
  workflow_dispatch:
  push:
    branches:
      - main

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:              
      - name: Create or Update publiccode.yaml
        uses: OpenCatalogi/publiccode-action@1.0.1
        with:
          opencatalogi: true
      - name: Create an Open Catalogi page
        uses: OpenCatalogi/opencatalogi-action@1.0.0-SNAPSHOT.13.cda0940
        with:
          github_repository_name_as_prefix: false
          nl_design_theme_classname: 'rotterdam-theme'
          pull_from_branche: 'development'
          footer_content: 'https://raw.githubusercontent.com/OpenCatalogi/.github/main/docs/FooterContent.json'
          navbar_content: 'https://raw.githubusercontent.com/OpenCatalogi/.github/main/docs/HeaderContent.json'
          start_page: 'https://github.com/OpenCatalogi/.github/blob/main/docs/Catalogi.md'
          favicon_logo: 'https://www.rotterdam.nl/images/logo-base.svg'
          navbar_logo: 'https://www.rotterdam.nl/images/logo-base.svg'
          footer_logo: 'https://www.rotterdam.nl/images/logo-base.svg'
